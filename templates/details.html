{{ define "title" }}{{ .Card.Name }}{{ end }}

{{ define "styles" }}
<link rel="stylesheet" href="/static/css/details.css">
{{ end }}

{{ define "content" }}
<div class="card-details">
    <div class="card-image-container">
        <img src="{{ .Card.Image }}" alt="{{ .Card.Name }}">
        <div class="card-actions">
            <button class="favorite-btn {{ if .Card.IsFavorite }}active{{ end }}" 
                    data-card-id="{{ .Card.ID }}" 
                    title="{{ if .Card.IsFavorite }}Retirer des favoris{{ else }}Ajouter aux favoris{{ end }}">
                {{ if .Card.IsFavorite }}‚ù§Ô∏è Dans vos favoris{{ else }}ü§ç Ajouter aux favoris{{ end }}
            </button>
        </div>
    </div>
    
    <div class="card-data">
        <h2>{{ .Card.Name }}</h2>
        
        <div class="card-attribute">
            <div class="attribute-name">Cat√©gorie</div>
            <div class="attribute-value">
                <span class="card-category {{ .Card.Category }}">{{ .Card.Category }}</span>
            </div>
        </div>
        
        {{ if .Card.Types }}
        <div class="card-attribute">
            <div class="attribute-name">Type</div>
            <div class="attribute-value">
                {{ range .Card.Types }}
                <span class="card-type {{ . }}">{{ . }}</span>
                {{ end }}
            </div>
        </div>
        {{ end }}
        
        {{ if .Card.Rarity }}
        <div class="card-attribute">
            <div class="attribute-name">Raret√©</div>
            <div class="attribute-value">{{ .Card.Rarity }}</div>
        </div>
        {{ end }}
        
        {{ if .Card.HP }}
        <div class="card-attribute">
            <div class="attribute-name">Points de vie</div>
            <div class="attribute-value">{{ .Card.HP }} HP</div>
        </div>
        {{ end }}
        
        <div class="card-attribute">
            <div class="attribute-name">S√©rie</div>
            <div class="attribute-value">{{ .Card.SeriesName }}</div>
        </div>
        
        {{ if .Card.Artist }}
        <div class="card-attribute">
            <div class="attribute-name">Illustrateur</div>
            <div class="attribute-value">{{ .Card.Artist }}</div>
        </div>
        {{ end }}
        
        {{ if .Card.ReleaseDate }}
        <div class="card-attribute">
            <div class="attribute-name">Date de sortie</div>
            <div class="attribute-value">{{ .Card.ReleaseDate }}</div>
        </div>
        {{ end }}
        
        {{ if .Card.Description }}
        <div class="card-description">
            <h3>Description</h3>
            <p>{{ .Card.Description }}</p>
        </div>
        {{ end }}
        
        <div class="card-links">
            <a href="/series/{{ .Card.SeriesID }}" class="btn btn-secondary">Voir la s√©rie</a>
            <a href="javascript:history.back()" class="btn btn-primary">Retour</a>
        </div>
    </div>
</div>

{{ if .SimilarCards }}
<section class="similar-cards">
    <h3>Cartes similaires</h3>
    <div class="cards-grid">
        {{ range .SimilarCards }}
        <div class="card">
            <div class="card-image">
                <img src="{{ .Image }}" alt="{{ .Name }}" loading="lazy">
                <button class="favorite-btn {{ if .IsFavorite }}active{{ end }}" 
                        data-card-id="{{ .ID }}" 
                        title="{{ if .IsFavorite }}Retirer des favoris{{ else }}Ajouter aux favoris{{ end }}">
                    {{ if .IsFavorite }}‚ù§Ô∏è{{ else }}ü§ç{{ end }}
                </button>
            </div>
            <div class="card-info">
                <h3>{{ .Name }}</h3>
                <p class="card-category {{ .Category }}">{{ .Category }}</p>
                <a href="/carte/{{ .ID }}" class="btn btn-small">Voir d√©tails</a>
            </div>
        </div>
        {{ end }}
    </div>
</section>
{{ end }}
{{ end }}

{{ define "scripts" }}
<script src="/static/js/favorites.js"></script>
{{ end }}